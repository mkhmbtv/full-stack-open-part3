{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","handleChange","onChange","PersonForm","props","onSubmit","addPerson","name","handleNameChange","number","handleNumberChange","type","Persons","persons","handleClick","map","person","onClick","id","Notification","message","style","error","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","remove","delete","update","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","searched","setSearched","setMessage","useEffect","initialPersons","updateNumber","find","p","changedPerson","window","confirm","returnedPerson","handleMessage","catch","isError","setTimeout","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","alreadyExists","newPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c1d3531a.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ value, handleChange }) => {\n    return (\n        <div>\n            filter shown with <input value={value} onChange={handleChange} />\n        </div>\n    );\n};\n\nexport default Filter;","import React from 'react';\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n            <div>\n                name: <input value={props.name} onChange={props.handleNameChange} />\n            </div>\n            <div>\n                number: <input value={props.number} onChange={props.handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    );\n};\n\nexport default PersonForm;","import React from 'react';\n\nconst Persons = ({ persons, handleClick }) => {\n    return (\n        <div>\n            {persons.map(person =>\n                <div key={person.name}>\n                    {person.name} {person.number} \n                    <button onClick={() => handleClick(person.id)}>delete</button>\n                </div>    \n            )}\n        </div>\n    );\n};\n\nexport default Persons;","import React from 'react';\n\nconst Notification = ({ message }) => {\n    const successStyle = {\n        color: \"green\",\n        background: \"lightgrey\",\n        fontSize: 20,\n        borderStyle: \"solid\",\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    };\n\n    const errorStyle = {\n        color: \"red\",\n        background: \"lightgrey\",\n        fontSize: 20,\n        borderStyle: \"solid\",\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    if (message === null) {\n        return null;\n    }\n\n    return (\n        <div style={ message.error ? errorStyle : successStyle }>\n            {message.message}\n        </div>\n    )\n}\n\nexport default Notification;","import axios from 'axios';\nconst baseUrl = 'api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then(response => response.data);\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request;\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\n    return request.then(response => response.data);\n}\n\nconst personService = { getAll, create, remove, update };\n\nexport default personService;","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\nimport personService from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searched, setSearched] = useState('');\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n      setPersons(initialPersons);\n    })\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const alreadyExists = persons.find(p => p.name === newName);\n    \n    if (alreadyExists) {\n      updateNumber(alreadyExists.id)\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      };\n\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          handleMessage(`Added ${returnedPerson.name}`);\n          setPersons(persons.concat(returnedPerson));\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch(error => {\n          handleMessage(`${error.response.data.error}`, true);\n        })\n    }\n  };\n\n  const updateNumber = id => {\n    const person = persons.find(p => p.id === id);\n    const changedPerson = {...person, number: newNumber};\n\n    if (window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)) {\n        personService\n          .update(id, changedPerson)\n          .then(returnedPerson => {      \n            handleMessage(`Changed ${returnedPerson.name}'s number`);\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson));\n            setNewName('');\n            setNewNumber('');\n          })\n          .catch(error => {\n            handleMessage(`${error.response.data.error}`, true);\n          })\n    }\n  }\n\n  const deletePerson = id => {\n    const person = persons.find(p => p.id === id);\n\n    if (window.confirm(`Delete ${person.name}`)) {\n      personService\n        .remove(id)\n        .then((response) => {\n          handleMessage(`Deleted ${person.name}`);\n          setPersons(persons.filter(p => p.id !== id));\n        })\n        .catch(error => {\n          handleMessage(`Information of ${person.name} has already been removed from server`, true);\n          setPersons(persons.filter(p => p.id !== id));\n        })\n    }\n  };\n\n  const handleMessage = (message, isError = false) => {\n    setMessage({\n      message: message,\n      error: isError\n    });\n\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000);\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchedChange = (event) => {\n    setSearched(event.target.value);\n  };\n\n  const personsToShow = (\n    persons.filter(person => \n    person.name.toLowerCase().includes(searched.toLowerCase()))\n  );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter value={searched} handleChange={handleSearchedChange} />\n      <h2>add a new</h2>\n      <PersonForm addPerson={addPerson} \n        name={newName} handleNameChange={handleNameChange}\n        number={newNumber} handleNumberChange={handleNumberChange} \n      />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} handleClick={deletePerson}/>\n    </div>\n  );\n};\n\nexport default App;","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}